<section class="cart">
  <div class="container">
    <h1 class="cart__title">{{ 'cart.title' | t }}</h1>

    {% if cart.empty? %}
      <div class="cart__empty">
        <p class="cart__empty-text">{{ 'cart.general.empty' | t }}</p>
        <a class="cart__empty-link" href="{{ routes.all_products_collection_url }}">
          {{ 'cart.general.continue_shopping' | t }}
        </a>
      </div>
    {% else %}
      <form action="{{ routes.cart_url }}" method="post" novalidate class="cart__layout">
        <div class="cart__items">
          {% for item in cart.items %}
            <article class="cart-item">
              <a class="cart-item__media" href="{{ item.url }}">
                {% if item.image %}
                  {{
                    item.image
                    | image_url: width: 350
                    | image_tag:
                      loading: 'lazy',
                      sizes: '180px',
                      widths: '180, 360',
                      class: 'cart-item__image'
                  }}
                {% endif %}
              </a>

              <div class="cart-item__content">
                <div class="cart-item__header">
                  <div>
                    <a href="{{ item.url }}" class="cart-item__title">{{ item.product.title }}</a>
                    {% if item.variant.title != 'Default Title' %}
                      <p class="cart-item__variant">{{ item.variant.title }}</p>
                    {% endif %}
                  </div>
                  <div class="cart-item__price">
                    {{ item.line_price | money }}
                  </div>
                </div>

                <div class="cart-item__meta">
                  <label class="cart-item__label" for="updates_{{ item.index }}">
                    {{ 'cart.label.quantity' | t }}
                  </label>
                  <div class="cart-item__controls">
                    <input
                      id="updates_{{ item.index }}"
                      class="cart-item__input"
                      type="number"
                      name="updates[]"
                      value="{{ item.quantity }}"
                      min="0"
                      aria-label="{{ 'cart.label.quantity' | t }}"
                    >
                    <button type="submit" class="cart-item__update">{{ 'cart.update' | t }}</button>
                    <a class="cart-item__remove" href="{{ item.url_to_remove }}">
                      {{ 'cart.remove' | t }}
                    </a>
                  </div>
                </div>
              </div>
            </article>
          {% endfor %}
        </div>

        <aside class="cart-summary">
          <div class="cart-summary__block">
            <p class="cart-summary__label">{{ 'cart.general.subtotal' | t }}</p>
            <p class="cart-summary__value">{{ cart.total_price | money }}</p>
          </div>
          <p class="cart-summary__note">{{ 'cart.general.taxes_and_shipping_policy_html' | t }}</p>

          <button type="submit" class="cart-summary__update" name="update" value="{{ 'cart.update' | t }}">
            {{ 'cart.update' | t }}
          </button>
          <button type="submit" name="checkout" class="cart-summary__checkout">
            {{ 'cart.checkout' | t }}
          </button>
        </aside>
      </form>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "t:general.cart",
  "settings": []
}
{% endschema %}

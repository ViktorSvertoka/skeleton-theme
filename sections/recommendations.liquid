<script src="{{ 'recommendations.js' | asset_url }}" defer></script>

{% assign collection = section.settings.collection %}

{% if collection %}
<section class="py-10">
  <div class="container">

    {% if section.settings.heading != blank %}
      <h2 class="text-center text-3xl mb-10">
        {{ section.settings.heading }}
      </h2>
    {% endif %}

    <div class="relative">
      <div class="swiper recommendations-swiper">
        <div class="swiper-wrapper">

          {% for product in collection.products limit: 5 %}
            {% render 'product-card', product: product %}
          {% endfor %}

        </div>
      </div>

      <button
        type="button"
        class="recommendations-prev hidden md:flex absolute -left-5 top-40 -translate-y-1/2 z-10 w-10 h-10 rounded-full bg-white border border-stroke items-center justify-center"
        aria-label="Previous slide"
      >
        <svg class="w-4 h-4">
          <use href="{{ 'sprite.svg' | asset_url }}#arrow-left"></use>
        </svg>
      </button>

      <button
        type="button"
        class="recommendations-next hidden md:flex absolute -right-5 top-40 -translate-y-1/2 z-10 w-10 h-10 rounded-full bg-white border border-stroke items-center justify-center"
        aria-label="Next slide"
      >
        <svg class="w-4 h-4">
          <use href="{{ 'sprite.svg' | asset_url }}#arrow-right"></use>
        </svg>
      </button>

    </div>
  </div>
</section>
{% endif %}

{% schema %}
{
  "name": "Recommendations",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "You may also like"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    }
  ],
  "presets": [
    {
      "name": "Recommendations"
    }
  ]
}
{% endschema %}
